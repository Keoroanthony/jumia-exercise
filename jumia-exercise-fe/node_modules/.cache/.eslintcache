[{"/home/anthony/jumia/jumia-exercise-fe/src/index.js":"1","/home/anthony/jumia/jumia-exercise-fe/src/App.js":"2","/home/anthony/jumia/jumia-exercise-fe/src/httpservices/Service.js":"3"},{"size":266,"mtime":1648810245755,"results":"4","hashOfConfig":"5"},{"size":4342,"mtime":1649164233974,"results":"6","hashOfConfig":"5"},{"size":832,"mtime":1648810245755,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","suppressedMessages":"10","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"16eqzoj",{"filePath":"11","messages":"12","suppressedMessages":"13","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"14"},{"filePath":"15","messages":"16","suppressedMessages":"17","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/anthony/jumia/jumia-exercise-fe/src/index.js",[],[],"/home/anthony/jumia/jumia-exercise-fe/src/App.js",["18"],[],"import { useState, useEffect } from 'react';\nimport './App.css';\nimport Table from 'react-bootstrap/Table';\nimport Container from 'react-bootstrap/Container';\nimport Service from './httpservices/Service';\n\n\nfunction App() {\n\n  const [countries, setCountries] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [countrySelectedOption, setCountrySelectedOption] = useState('')\n  const [stateSelectedOption, setStateSelectedOption] = useState('')\n\n  const getCountries = () =>{\n    Service.getCountries()\n      .then((res) =>{\n        setCountries(res.data);\n      })\n      .catch((err) => console.log(err));\n  }\n\n\n  const getUsers = () =>{\n    Service.getCustomers()\n        .then((res) => {\n          setCustomers(res.data);\n        })\n        .catch((err) => console.log(err))\n  }\n\n\n  const handleStateSelect = (e) =>{\n    setStateSelectedOption(e.target.value);    \n  }\n\n\n  const handleCountrySelect = (e) =>{\n    setCountrySelectedOption(e.target.value);\n  }\n\n  const getCustomersByCountry = (countrySelectedOption) =>{\n    Service.getCustomersByCountry(countrySelectedOption)\n      .then((res) => {\n        setCustomers(res.data);\n      })\n      .catch((err) => console.log(err));\n  }\n\n\n  const getCustomersByValidity = (stateSelectedOption) =>{\n    Service.getCustomersWithValidity(stateSelectedOption)\n      .then((res) => {\n        setCustomers(res.data);\n      })\n      .catch((err) => console.log(err));\n  }\n\n const getCustomersByCountryAndValidity = (countrySelectedOption, stateSelectedOption) =>{\n   Service.getCustomersByCountryAndValidity(countrySelectedOption, stateSelectedOption)\n    .then(res => setCustomers(res.data))\n    .catch(err => console.log(err));\n }\n\n  const getUsersFilter = () =>{\n\n    if (!countrySelectedOption && !stateSelectedOption) {\n      \n        getUsers();\n    \n    } else if (countrySelectedOption && !stateSelectedOption) {\n     \n      getCustomersByCountry(countrySelectedOption);\n    \n    } else if (stateSelectedOption && !countrySelectedOption) {\n      \n      getCustomersByValidity(stateSelectedOption);\n    \n    } else getCustomersByCountryAndValidity(countrySelectedOption, stateSelectedOption);\n  }\n\n  const resetFilter = () =>{\n    window.location.reload(true)\n  }\n\n  useEffect(() => {\n\n    getCountries();\n    getUsersFilter();\n\n  }, [countrySelectedOption, stateSelectedOption])\n  \n\n  return (\n    <div className=\"App\">\n     \n\n      <Container>\n\n      <h1 className='text-center my-5'>Countries and Phone Numbers</h1>\n\n      <h5>Filter By:</h5>\n      <div className='row'>\n\n        <div className='col-lg-3'>\n          <label>Country</label>\n          <select className='form-select my-4 bg-dark text-white col-lg-6' onChange={handleCountrySelect}>\n            <option value={''}>Select Country</option>\n            { countries.map((country, index) => (\n              <option key={index} value={country.countryPrefix}>{country.countryName}</option>\n            ))}\n          </select>\n        </div>\n\n\n        <div className='col-lg-3'>\n        <label>State</label>\n          <select className='form-select my-4 bg-dark text-white col-lg-6' onChange={handleStateSelect}>\n            <option value={''}>Select State</option>\n            <option value={\"valid\"}>Valid</option>\n            <option value={\"invalid\"}>Invalid</option>\n          </select>\n        </div>\n\n        <div className='col-lg-6 d-flex justify-content-end align-items-center'>\n            <button className='btn btn-primary' onClick={resetFilter}>RESET</button>\n        </div>\n\n      </div>\n      \n          <Table responsive striped bordered hover variant=\"dark\" className='my-4'>\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Phone</th>\n                <th>Country</th>\n                <th>Country Code</th>\n                <th>State</th>\n              </tr>\n            </thead>\n            <tbody>\n              { customers.map((customer) =>(\n                <tr key={customer.id}>\n                  <td>{customer.name}</td>\n                  <td>{customer.phone}</td>\n                  <td>{customer.country}</td>\n                  <td>{customer.countryCode}</td>\n                  <td>{customer.state}</td>\n                </tr>\n              ))}\n\n            </tbody>\n        </Table>\n\n      </Container>\n\n\n\n    </div>\n  );\n}\n\nexport default App;\n","/home/anthony/jumia/jumia-exercise-fe/src/httpservices/Service.js",[],[],{"ruleId":"19","severity":1,"message":"20","line":91,"column":6,"nodeType":"21","endLine":91,"endColumn":50,"suggestions":"22"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getUsersFilter'. Either include it or remove the dependency array.","ArrayExpression",["23"],{"desc":"24","fix":"25"},"Update the dependencies array to be: [countrySelectedOption, getUsersFilter, stateSelectedOption]",{"range":"26","text":"27"},[2308,2352],"[countrySelectedOption, getUsersFilter, stateSelectedOption]"]